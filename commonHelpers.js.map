{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport bixOctagonSvg from './img/bi_x-octagon.svg';\n\nconst form = document.querySelector('.form');\nconst formInput = document.querySelector('.form-input');\nconst gallery = document.querySelector('.gallery');\nconst loaderAnimation = document.createElement('div');\nloaderAnimation.classList.add('loader');\n\nconst instanceOfLightbox = new simpleLightbox('li a', {\n    captionsData: 'alt',\n    captionClass: 'img-caption',\n    captionDelay: 250,\n});\n\nconst loadMoreBtn = document.querySelector('.load-more-btn');\nlet currentPage = 1;\nlet userKey = '41929636-e94244ac3daa63b74aaebcf18';\nlet inputQuery = '';\n\nform.addEventListener('submit', onFormSubmit);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction createGallery(hits) {\n    const markup = hits\n        .map(\n            ({\n                webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads,\n            }) => `\n                <li class=\"gallery-item\">\n                    <a class=\"item-link\" href=\"${largeImageURL}\">\n                        <img\n                            src=\"${webformatURL}\"\n                            alt=\"${tags}\"\n                            width=\"360\"\n                            height=\"200\"\n                        />\n                    </a>\n                    <ul class=\"mini-list\">\n                        <!-- (existing code for mini-list) -->\n                    </ul>\n                </li>`\n        )\n        .join('');\n\n    loaderAnimation.remove();\n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    if (hits.length < 30) {\n        loadMoreBtn.style.display = 'none';\n        if (currentPage === 1) {\n            iziToast.show({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                color: '#EF4040',\n                messageColor: '#FAFAFB',\n                iconUrl: bixOctagonSvg,\n            });\n        } else {\n            iziToast.show({\n                message: 'We are sorry, but you have reached the end of search results.',\n                position: 'topRight',\n                color: '#EF4040',\n                messageColor: '#FAFAFB',\n                iconUrl: bixOctagonSvg,\n            });\n        }\n    } else {\n        loadMoreBtn.style.display = 'block';\n    }\n\n    instanceOfLightbox.refresh();\n}\n\nasync function onFormSubmit(e) {\n    e.preventDefault();\n    gallery.innerHTML = '';\n    form.after(loaderAnimation);\n\n    inputQuery = formInput.value;\n    currentPage = 1;\n\n    try {\n        const response = await axios.get('https://pixabay.com/api/', {\n            params: {\n                key: userKey,\n                q: inputQuery,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n                per_page: 30,\n            },\n        });\n\n        const { hits } = response.data;\n\n        createGallery(hits);\n    } catch (error) {\n        loaderAnimation.remove();\n        iziToast.show({\n            message: `${error}`,\n            position: 'topRight',\n            color: '#EF4040',\n            messageColor: '#FAFAFB',\n            iconUrl: '/img/bi_x-octagon.svg',\n        });\n    }\n}\n\nasync function onLoadMore() {\n    formInput.value = '';\n    form.after(loaderAnimation);\n\n    try {\n        currentPage++;\n        const response = await axios.get('https://pixabay.com/api/', {\n            params: {\n                key: userKey,\n                q: inputQuery,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n                per_page: 30,\n                page: currentPage,\n            },\n        });\n\n        const { hits } = response.data;\n        createGallery(hits);\n    } catch (error) {\n        loaderAnimation.remove();\n        iziToast.show({\n            message: `${error}`,\n            position: 'topRight',\n            color: '#EF4040',\n            messageColor: '#FAFAFB',\n            iconUrl: '/img/bi_x-octagon.svg',\n        });\n    }\n}"],"names":["bixOctagonSvg","form","formInput","gallery","loaderAnimation","instanceOfLightbox","simpleLightbox","loadMoreBtn","currentPage","userKey","inputQuery","onFormSubmit","onLoadMore","createGallery","hits","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","iziToast","e","response","axios","error"],"mappings":"owBAAA,MAAeA,EAAA,kDCOTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAkB,SAAS,cAAc,KAAK,EACpDA,EAAgB,UAAU,IAAI,QAAQ,EAEtC,MAAMC,EAAqB,IAAIC,EAAe,OAAQ,CAClD,aAAc,MACd,aAAc,cACd,aAAc,GAClB,CAAC,EAEKC,EAAc,SAAS,cAAc,gBAAgB,EAC3D,IAAIC,EAAc,EACdC,EAAU,qCACVC,EAAa,GAEjBT,EAAK,iBAAiB,SAAUU,CAAY,EAC5CJ,EAAY,iBAAiB,QAASK,CAAU,EAEhD,SAASC,EAAcC,EAAM,CACzB,MAAMC,EAASD,EACV,IACG,CAAC,CACG,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CAChB,IAAkB;AAAA;AAAA,iDAE+BL,CAAa;AAAA;AAAA,mCAE3BD,CAAY;AAAA,mCACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAS9B,EACA,KAAK,EAAE,EAEZd,EAAgB,OAAM,EACtBD,EAAQ,mBAAmB,YAAaY,CAAM,EAE1CD,EAAK,OAAS,IACdP,EAAY,MAAM,QAAU,OACxBC,IAAgB,EAChBe,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAASvB,CACzB,CAAa,EAEDuB,EAAS,KAAK,CACV,QAAS,gEACT,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAASvB,CACzB,CAAa,GAGLO,EAAY,MAAM,QAAU,QAGhCF,EAAmB,QAAO,CAC9B,CAEA,eAAeM,EAAaa,EAAG,CAC3BA,EAAE,eAAc,EAChBrB,EAAQ,UAAY,GACpBF,EAAK,MAAMG,CAAe,EAE1BM,EAAaR,EAAU,MACvBM,EAAc,EAEd,GAAI,CACA,MAAMiB,EAAW,MAAMC,EAAM,IAAI,2BAA4B,CACzD,OAAQ,CACJ,IAAKjB,EACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACb,CACb,CAAS,EAEK,CAAE,KAAAI,CAAI,EAAKW,EAAS,KAE1BZ,EAAcC,CAAI,CACrB,OAAQa,EAAO,CACZvB,EAAgB,OAAM,EACtBmB,EAAS,KAAK,CACV,QAAS,GAAGI,CAAK,GACjB,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAAS,uBACrB,CAAS,CACJ,CACL,CAEA,eAAef,GAAa,CACxBV,EAAU,MAAQ,GAClBD,EAAK,MAAMG,CAAe,EAE1B,GAAI,CACAI,IACA,MAAMiB,EAAW,MAAMC,EAAM,IAAI,2BAA4B,CACzD,OAAQ,CACJ,IAAKjB,EACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMF,CACT,CACb,CAAS,EAEK,CAAE,KAAAM,CAAI,EAAKW,EAAS,KAC1BZ,EAAcC,CAAI,CACrB,OAAQa,EAAO,CACZvB,EAAgB,OAAM,EACtBmB,EAAS,KAAK,CACV,QAAS,GAAGI,CAAK,GACjB,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAAS,uBACrB,CAAS,CACJ,CACL"}